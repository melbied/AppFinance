<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <style>
        .ui-autocomplete {
    width: auto;
    zoom: 2;
    cursor: pointer;
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
    position: relative;
    display: inline-block;
}

.ui-autocomplete .ui-autocomplete-dropdown {
    position: absolute;
    top: 0;
    bottom: 0;
    height: 100%;
}

.ui-autocomplete-query{
    font-weight: bold;
}

.ui-autocomplete-panel {
    position: absolute;
    overflow: auto;
}

.ui-autocomplete-panel .ui-autocomplete-item {
    cursor: pointer;
}

.ui-autocomplete-panel .ui-autocomplete-list {
    padding: 0.4em;
    border: 0 none;
}

.ui-autocomplete-panel .ui-autocomplete-list-item {
    border:0px none;
    font-weight:normal;
    margin:1px 0;
    padding:3px 5px;
    text-align:left;
}

.ui-autocomplete-panel .ui-autocomplete-table {
    border-collapse:collapse;
    width: 100%;
}

.ui-autocomplete-panel .ui-autocomplete-table th,
.ui-autocomplete-panel .ui-autocomplete-table td {
    border-width: 1px;
    border-style: solid;
    border-color: inherit;
    padding:4px 10px 4px 10px;
}

.ui-autocomplete .ui-button-icon-only .ui-button-text {
    padding: 1em;
}

/* Multiple Selection */
.ui-autocomplete-multiple-container {
    clear: left;
    cursor: text;
    list-style-type: none;
    margin: 0;
    min-height: 1px;
    overflow: hidden;
    width: 400px;
}

.ui-autocomplete-multiple-container.ui-inputfield {
    padding:0;
}

.ui-autocomplete-token {
    cursor: default;
    float: left;
    overflow: hidden;
    padding: 1px 3px;
    white-space: nowrap;
    position: relative;
    margin:2px;
}

.ui-autocomplete-token-label {
    display: block;
    padding: 0em 2.1em 0em 0.5em;
}

.ui-autocomplete-token-icon {
    margin-top: -9px;
    position: absolute;
    right: 0.2em;
    top: 50%;
    cursor: pointer;
}

.ui-autocomplete-input-token {
    float: left;
    list-style-type: none;
    margin: 1px;
    padding: 0;
}

.ui-autocomplete-input-token input {
    border: 0 none;
    width: 140px;
    outline: medium none;
    background-color: transparent;
    margin:2px;
}

.ui-autocomplete-itemtip-content {
    display:none;
}

.ui-autocomplete-itemtip {
    position: absolute;
    display: none;
    padding: 0.4em;
}

.ui-autocomplete-emptyMessage {
    padding:3px 5px;
}

.ui-autocomplete-panel .ui-autocomplete-group {
    font-weight: bold;
    cursor: default;
}

    </style>
    <h:body onload="#{lignecommandeController.itemes}">
        
        <ui:composition template="../templateTest.xhtml">

        <ui:define name="titlepanelLeft">
               Expression de besoin
            </ui:define>

         

            <ui:define name="titlepanel">
               Choix des articles
            </ui:define>

            <ui:define name="content">

              <h:form id="LigneCommandeCreateForm">
            <p:growl id="message" life="2000" />
         
            <div class="col-md-12 col-sm-12">
                <div class="panel panel-primary">
                    <div class="panel-heading" style="background-color: #81d39a;">
                        Choix des articles :
                    </div>
                    <div class="panel-body">
                        <br/>
                        <center><table class='tab_form' style="width:500px;height:250px; margin:0px;padding:0px; border-width: 5px; text-align: center;align-content: center;">
                                
                                <tr >
                                    <td class="olab" ><h:outputLabel value="N° Expression Besoin" for="id" /></td>
                                    <td class="olab">
                                        <h:outputLabel id="id" value="#{lignecommandeController.bc}"/>
                                    </td>
                                </tr>
                                <tr><td><br/><br/></td><td><br/></td></tr>
                                <tr> 
                                    
                                    <td class="olab"><h:outputLabel value="Designation:" for="description" /></td>
                                    <td class="olab">
                                        <p:autoComplete dropdown="true" style="overflow: hidden; width: 100% !important;" id="description" class="form-control-static"
value="#{lignecommandeController.description}" completeMethod="#{articleController.completeText}" title="#{bundle.CreateArticleTitle_description}" >
                                        </p:autoComplete>
                                    </td>
                                </tr>
                                <tr >
                                    <td class="olab" style="padding: 8px !important" ><h:outputLabel value="Description:" for="besoin" /></td>
                                    <td class="olab" style="padding: 8px !important">
                                        <p:inputTextarea class="form-control" placeholder="Description de besoin..." id="besoin"  value="#{lignecommandeController.current.desc_besoin}"></p:inputTextarea>
                                    </td>
                                </tr>
                                <tr> 
                                    <td class="olab"><h:outputLabel value="Quantite:" for="quantite" /></td>
                                    <td class="olab"><p:inputText class="form-control" id="quantite" value="#{lignecommandeController.qte}" title="#{bundle.CreateLignecommandeTitle_quantite}" >
                                        </p:inputText></td>
                                </tr>
                                <tr><td><br/><br/></td><td><br/></td></tr>
                                <tr>
                                   
                                    
                                        <h:commandButton    id="ajaxValider"  style="background-color: #7ebdb5; float: right;" actionListener="#{lignecommandeController.PDBon}"  value="Imprimer et fermer" class="btn btn-primary btn-lg ui-icon-print" />
                           
                                    
                                        <td class="olab" colspan="2">
                                        <p:commandButton style="width: 100%; height: 50px; font-size: 18px !important ; background-color: #81d39a ;" ajax="false" id="ajaxcreate"  action="#{lignecommandeController.create}" icon="ui-icon-plus" value="Ajouter l'article" class="btn btn-primary btn-lg" update="@form">
                                        </p:commandButton>
                                    </td>
                                    
                                </tr>
                            </table></center>
                    </div>
                </div>
            </div>
            
            
        </h:form> 
                
            <div class="col-md-12 col-sm-12">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        Liste des articles commandés
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                          
                    <p:dataTable id="datalist" value="#{lignecommandeController.items}" var="item"
                                 selectionMode="single" selection="#{lignecommandeController.selected}"
                                 paginator="true"
                                 rowKey="#{item.idLigne}"
                                 rows="10"
                                 rowsPerPageTemplate="10,20,30,40,50"
                                 >

                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="N° Expression de Besoin"/>
                            </f:facet>
                            <h:outputText value="#{item.idBC}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Designation"/>
                            </f:facet>
                            <h:outputText value="#{articleController.getArticle(item.idArticle).description}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Description"/>
                            </f:facet>
                            <h:outputText value="#{item.desc_besoin}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Quantité"/>
                            </f:facet>
                            <h:outputText value="#{item.quantite}"/>
                        </p:column>
                        


                       
                    </p:dataTable>

      
                        </div>
                    </div>
                </div>
            </div>
            </ui:define>

        </ui:composition>

    </h:body>
</html>

